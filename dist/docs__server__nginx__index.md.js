(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[114],{"6T1g":function(e,t,n){"use strict";var l=n("q1tI"),a=n.n(l),r=n("SVOR"),c={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},o=c,i={Prism:r["a"],theme:o};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},m.apply(this,arguments)}var s=/\r\n|\r|\n/,d=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},E=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},g=function(e){var t=[[]],n=[e],l=[0],a=[e.length],r=0,c=0,o=[],i=[o];while(c>-1){while((r=l[c]++)<a[c]){var u=void 0,m=t[c],g=n[c],p=g[r];if("string"===typeof p?(m=c>0?m:["plain"],u=p):(m=E(m,p.type),p.alias&&(m=E(m,p.alias)),u=p.content),"string"===typeof u){var f=u.split(s),h=f.length;o.push({types:m,content:f[0]});for(var y=1;y<h;y++)d(o),i.push(o=[]),o.push({types:m,content:f[y]})}else c++,t.push(m),n.push(u),l.push(0),a.push(u.length)}c--,t.pop(),n.pop(),l.pop(),a.pop()}return d(o),i},p=function(e,t){var n=e.plain,l=Object.create(null),a=e.styles.reduce((function(e,n){var l=n.languages,a=n.style;return l&&!l.includes(t)||n.types.forEach((function(t){var n=m({},e[t],a);e[t]=n})),e}),l);return a.root=n,a.plain=m({},n,{backgroundColor:null}),a};function f(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&-1===t.indexOf(l)&&(n[l]=e[l]);return n}var h=function(e){function t(){var t=this,n=[],l=arguments.length;while(l--)n[l]=arguments[l];e.apply(this,n),u(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?p(e.theme,e.language):void 0;return t.themeDict=n})),u(this,"getLineProps",(function(e){var n=e.key,l=e.className,a=e.style,r=f(e,["key","className","style","line"]),c=r,o=m({},c,{className:"token-line",style:void 0,key:void 0}),i=t.getThemeDict(t.props);return void 0!==i&&(o.style=i.plain),void 0!==a&&(o.style=void 0!==o.style?m({},o.style,a):a),void 0!==n&&(o.key=n),l&&(o.className+=" "+l),o})),u(this,"getStyleForToken",(function(e){var n=e.types,l=e.empty,a=n.length,r=t.getThemeDict(t.props);if(void 0!==r){if(1===a&&"plain"===n[0])return l?{display:"inline-block"}:void 0;if(1===a&&!l)return r[n[0]];var c=l?{display:"inline-block"}:{},o=n.map((function(e){return r[e]}));return Object.assign.apply(Object,[c].concat(o))}})),u(this,"getTokenProps",(function(e){var n=e.key,l=e.className,a=e.style,r=e.token,c=f(e,["key","className","style","token"]),o=c,i=m({},o,{className:"token "+r.types.join(" "),children:r.content,style:t.getStyleForToken(r),key:void 0});return void 0!==a&&(i.style=void 0!==i.style?m({},i.style,a):a),void 0!==n&&(i.key=n),l&&(i.className+=" "+l),i})),u(this,"tokenize",(function(e,t,n,l){var a={code:t,grammar:n,language:l,tokens:[]};e.hooks.run("before-tokenize",a);var r=a.tokens=e.tokenize(a.code,a.grammar,a.language);return e.hooks.run("after-tokenize",a),r}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,l=e.code,a=e.children,r=this.getThemeDict(this.props),c=t.languages[n],o=void 0!==c?this.tokenize(t,l,c,n):[l],i=g(o);return a({tokens:i,className:"prism-code language-"+n,style:void 0!==r?r.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(l["Component"]),y=h,b=n("dEAq");n("qHiR"),n("rVZW");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},v.apply(this,arguments)}function x(e,t){return I(e)||O(e,t)||w(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function O(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,r=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(l=n.next()).done);c=!0)if(r.push(l.value),t&&r.length===t)break}catch(i){o=!0,a=i}finally{try{c||null==n["return"]||n["return"]()}finally{if(o)throw a}}return r}}function I(e){if(Array.isArray(e))return e}var P={acss:"css",axml:"xml"};t["a"]=function(e){var t=e.code,n=e.lang,l=e.showCopy,r=void 0===l||l,c=Object(b["useCopy"])(),o=x(c,2),u=o[0],m=o[1];return a.a.createElement("div",{className:"__dumi-default-code-block"},a.a.createElement(y,v({},i,{code:t,language:P[n]||n,theme:void 0}),(function(e){var n=e.className,l=e.style,c=e.tokens,o=e.getLineProps,i=e.getTokenProps;return a.a.createElement("pre",{className:n,style:l},r&&a.a.createElement("button",{className:"__dumi-default-icon __dumi-default-code-block-copy-btn","data-status":m,onClick:function(){return u(t)}}),c.map((function(e,t){return a.a.createElement("div",o({line:e,key:t}),e.map((function(e,t){return a.a.createElement("span",i({token:e,key:t}))})))})))})))}},Pg6R:function(e,t,n){},WtSh:function(e,t,n){"use strict";var l=n("q1tI"),a=n.n(l),r=n("hKI/"),c=n.n(r);n("Pg6R");function o(e,t){return d(e)||s(e,t)||u(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function s(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,r=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(l=n.next()).done);c=!0)if(r.push(l.value),t&&r.length===t)break}catch(i){o=!0,a=i}finally{try{c||null==n["return"]||n["return"]()}finally{if(o)throw a}}return r}}function d(e){if(Array.isArray(e))return e}var E=function(e){var t=e.children,n=Object(l["useRef"])(),r=Object(l["useState"])(!1),i=o(r,2),u=i[0],m=i[1],s=Object(l["useState"])(!1),d=o(s,2),E=d[0],g=d[1];return Object(l["useEffect"])((function(){var e=n.current,t=c()((function(){m(e.scrollLeft>0),g(e.scrollLeft<e.scrollWidth-e.offsetWidth)}),100);return t(),e.addEventListener("scroll",t),window.addEventListener("resize",t),function(){e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}),[]),a.a.createElement("div",{className:"__dumi-default-table"},a.a.createElement("div",{className:"__dumi-default-table-content",ref:n,"data-left-folded":u||void 0,"data-right-folded":E||void 0},a.a.createElement("table",null,t)))};t["a"]=E},hTDI:function(e,t,n){"use strict";n.r(t);var l=n("q1tI"),a=n.n(l),r=n("dEAq"),c=n("6T1g"),o=n("WtSh"),i=a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"\u57fa\u672c\u6982\u8981"},a.a.createElement(r["AnchorLink"],{to:"#\u57fa\u672c\u6982\u8981","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u6982\u8981"),a.a.createElement("p",null,"Nginx \u662f\u4e00\u4e2a\u5f00\u6e90\u4e14\u9ad8\u6027\u80fd\u3001\u53ef\u9760\u7684 HTTP \u4e2d\u95f4\u4ef6\uff0c\u4ee3\u7406\u670d\u52a1\u3002Nginx\uff08\u53d1\u97f3\u540c engine x\uff09\u662f\u4e00\u4e2a Web \u670d\u52a1\u5668\uff0c\u4e5f\u53ef\u4ee5\u7528\u4f5c\u53cd\u5411\u4ee3\u7406\uff0c\u8d1f\u8f7d\u5e73\u8861\u5668\u548c HTTP \u7f13\u5b58\u3002\u8be5\u8f6f\u4ef6\u7531 Igor Sysoev \u521b\u5efa\uff0c\u5e76\u4e8e 2004 \u5e74\u9996\u6b21\u516c\u5f00\u53d1\u5e03\u3002\u540c\u540d\u516c\u53f8\u6210\u7acb\u4e8e 2011 \u5e74\uff0c\u4ee5\u63d0\u4f9b\u652f\u6301\u3002"),a.a.createElement("h2",{id:"\u5de5\u4f5c\u539f\u7406"},a.a.createElement(r["AnchorLink"],{to:"#\u5de5\u4f5c\u539f\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u5de5\u4f5c\u539f\u7406"),a.a.createElement("p",null,"\u9996\u5148\u8981\u660e\u767d\uff0cNginx \u91c7\u7528\u7684\u662f\u591a\u8fdb\u7a0b\uff08\u5355\u7ebf\u7a0b\uff09 + \u591a\u8def IO \u590d\u7528\u6a21\u578b\u3002\u4f7f\u7528\u4e86 I/O \u591a\u8def\u590d\u7528\u6280\u672f\u7684 Nginx\uff0c\u5c31\u6210\u4e86 ",a.a.createElement("strong",null,"\u5e76\u53d1\u4e8b\u4ef6\u9a71\u52a8")," \u7684\u670d\u52a1\u5668\u3002"),a.a.createElement("h3",{id:"\u591a\u8fdb\u7a0b\u7684\u5de5\u4f5c\u6a21\u5f0f"},a.a.createElement(r["AnchorLink"],{to:"#\u591a\u8fdb\u7a0b\u7684\u5de5\u4f5c\u6a21\u5f0f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u591a\u8fdb\u7a0b\u7684\u5de5\u4f5c\u6a21\u5f0f"),a.a.createElement("ul",null,a.a.createElement("li",null,"Nginx \u5728\u542f\u52a8\u540e\uff0c\u4f1a\u4ee5 daemon \u7684\u65b9\u5f0f\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u540e\u53f0\u8fdb\u7a0b\u5305\u542b\u4e00\u4e2a ",a.a.createElement("code",null,"master")," \u8fdb\u7a0b\u548c\u591a\u4e2a\u76f8\u4e92\u72ec\u7acb\u7684 ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u3002\u5de5\u4f5c\u8fdb\u7a0b\u4ee5\u975e\u7279\u6743\u7528\u6237\u8fd0\u884c\u3002"),a.a.createElement("li",null,a.a.createElement("code",null,"master")," \u8fdb\u7a0b\u4e3b\u8981\u7528\u6765\u7ba1\u7406 ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\uff0c\u5305\u542b\uff1a\u63a5\u6536\u6765\u81ea\u5916\u754c\u7684\u4fe1\u53f7\uff0c\u5411\u5404 ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\uff0c\u76d1\u63a7 ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5f53 ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u9000\u51fa\u540e\uff08\u5f02\u5e38\u60c5\u51b5\u4e0b\uff09\uff0c\u4f1a\u81ea\u52a8\u91cd\u65b0\u542f\u52a8\u65b0\u7684 ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u3002"),a.a.createElement("li",null,a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u5219\u662f\u5904\u7406\u57fa\u672c\u7684\u7f51\u7edc\u4e8b\u4ef6\u3002\u591a\u4e2a ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u4e4b\u95f4\u662f\u5bf9\u7b49\u7684\uff0c\u4ed6\u4eec\u540c\u7b49\u7ade\u4e89\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\uff0c\u5404\u8fdb\u7a0b\u4e92\u76f8\u4e4b\u95f4\u662f\u72ec\u7acb\u7684\u3002\u4e00\u4e2a\u8bf7\u6c42\uff0c\u53ea\u53ef\u80fd\u5728\u4e00\u4e2a ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\u4e2d\u5904\u7406\uff0c\u4e00\u4e2a ",a.a.createElement("code",null,"worker")," \u8fdb\u7a0b\uff0c\u4e0d\u53ef\u80fd\u5904\u7406\u5176\u5b83\u8fdb\u7a0b\u7684\u8bf7\u6c42\u3002")),a.a.createElement("p",null,"\u5de5\u4f5c\u7ebf\u7a0b\u5904\u7406\u5b9e\u9645\u7684\u8bf7\u6c42\u3002Nginx \u4f7f\u7528",a.a.createElement("strong",null,"\u57fa\u4e8e\u4e8b\u4ef6"),"\u7684\u6a21\u578b\u548c",a.a.createElement("strong",null,"\u4f9d\u8d56\u64cd\u4f5c\u7cfb\u7edf"),"\u7684\u673a\u5236\u6765\u6709\u6548\u5730\u5728\u5de5\u4f5c\u8fdb\u7a0b\u4e4b\u95f4\u5206\u53d1\u8bf7\u6c42\u3002"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"worker \u8fdb\u7a0b\u6570\uff0c\u4e00\u822c\u4f1a\u8bbe\u7f6e\u6210\u673a\u5668 CPU \u6838\u6570\u3002\u56e0\u4e3a\u66f4\u591a\u7684 worker \u6570\uff0c\u53ea\u4f1a\u5bfc\u81f4\u8fdb\u7a0b\u76f8\u4e92\u7ade\u4e89 CPU\uff0c\u4ece\u800c\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u3002 \u4f7f\u7528\u591a\u8fdb\u7a0b\u6a21\u5f0f\uff0c\u4e0d\u4ec5\u80fd\u63d0\u9ad8\u5e76\u6cd5\u7387\uff0c\u800c\u4e14\u8fdb\u7a0b\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u4e00\u4e2a worker \u8fdb\u7a0b\u6302\u4e86\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6 worker \u8fdb\u7a0b\u3002")),a.a.createElement("h3",{id:"\u60ca\u7fa4\u73b0\u8c61"},a.a.createElement(r["AnchorLink"],{to:"#\u60ca\u7fa4\u73b0\u8c61","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u60ca\u7fa4\u73b0\u8c61"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e3b\u8fdb\u7a0b\uff08master \u8fdb\u7a0b\uff09\u9996\u5148\u901a\u8fc7 ",a.a.createElement("code",null,"socket()")," \u6765\u521b\u5efa\u4e00\u4e2a sock \u6587\u4ef6\u63cf\u8ff0\u7b26\u7528\u6765\u76d1\u542c\uff0c\u7136\u540e ",a.a.createElement("code",null,"fork")," \u751f\u6210\u5b50\u8fdb\u7a0b\uff08workers \u8fdb\u7a0b\uff09\uff0c\u5b50\u8fdb\u7a0b\u5c06\u7ee7\u627f\u7236\u8fdb\u7a0b\u7684 ",a.a.createElement("code",null,"sockfd"),"\uff08socket \u6587\u4ef6\u63cf\u8ff0\u7b26\uff09\uff0c\u4e4b\u540e\u5b50\u8fdb\u7a0b ",a.a.createElement("code",null,"accept()")," \u540e\u5c06\u521b\u5efa\u5df2\u8fde\u63a5\u63cf\u8ff0\u7b26\uff08connected descriptor\uff09\uff09\uff0c\u7136\u540e\u901a\u8fc7\u5df2\u8fde\u63a5\u63cf\u8ff0\u7b26\u6765\u4e0e\u5ba2\u6237\u7aef\u901a\u4fe1\u3002"),a.a.createElement("li",null,"\u90a3\u4e48\uff0c\u7531\u4e8e\u6240\u6709\u5b50\u8fdb\u7a0b\u90fd\u7ee7\u627f\u4e86\u7236\u8fdb\u7a0b\u7684 ",a.a.createElement("code",null,"sockfd"),"\uff0c\u90a3\u4e48\u5f53\u8fde\u63a5\u8fdb\u6765\u65f6\uff0c\u6240\u6709\u5b50\u8fdb\u7a0b\u90fd\u5c06\u6536\u5230\u901a\u77e5\u5e76 ",a.a.createElement("strong",null,"\u4e89\u7740")," \u4e0e\u5b83\u5efa\u7acb\u8fde\u63a5\uff0c\u8fd9\u5c31\u53eb ",a.a.createElement("strong",null,"\u60ca\u7fa4\u73b0\u8c61"),"\u3002\u5927\u91cf\u7684\u8fdb\u7a0b\u88ab\u6fc0\u6d3b\u53c8\u6302\u8d77\uff0c\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5 ",a.a.createElement("code",null,"accept()")," \u5230\u8fd9\u4e2a\u8fde\u63a5\uff0c\u8fd9\u5f53\u7136\u4f1a\u6d88\u8017\u7cfb\u7edf\u8d44\u6e90\u3002")),a.a.createElement("h2",{id:"\u4e2d\u95f4\u4ef6\u67b6\u6784"},a.a.createElement(r["AnchorLink"],{to:"#\u4e2d\u95f4\u4ef6\u67b6\u6784","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4e2d\u95f4\u4ef6\u67b6\u6784"),a.a.createElement("p",null,"\u591a\u4e2a\u63cf\u8ff0\u7b26\u7684 I/O \u64cd\u4f5c\u90fd\u80fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u5185\u5e76\u53d1\u4ea4\u66ff\u5730\u987a\u5e8f\u5b8c\u6210\uff0c\u8fd9\u5c31\u6559 I/O \u591a\u8def\u590d\u7528\uff0c\u8fd9\u91cc\u7684 ",a.a.createElement("strong",null,"\u590d\u7528")," \u6307\u7684\u662f\u590d\u7528\u540c\u4e00\u4e2a\u7ebf\u7a0b\u3002I/O \u591a\u8def\u590d\u7528\u7684\u5b9e\u73b0\u65b9\u5f0f\u4e3a\uff1a",a.a.createElement("code",null,"select"),"\u3001",a.a.createElement("code",null,"poll"),"\u3001",a.a.createElement("code",null,"epoll"),"\u3002"),a.a.createElement("p",null,"Nginx \u91c7\u7528\u7684 I/O \u591a\u8def\u590d\u7528\u6a21\u578b ",a.a.createElement("code",null,"epoll"),"\u3002"),a.a.createElement("h3",{id:"cpu-\u4eb2\u548c"},a.a.createElement(r["AnchorLink"],{to:"#cpu-\u4eb2\u548c","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"CPU \u4eb2\u548c"),a.a.createElement("p",null,"CPU \u4eb2\u548c\u662f\u4e00\u79cd CPU \u6838\u5fc3\u548c Nginx \u5de5\u4f5c\u8fdb\u7a0b\u7ed1\u5b9a\u65b9\u5f0f\uff0c\u628a\u6bcf\u4e2a worker \u8fdb\u7a0b\u56fa\u5b9a\u5728\u4e00\u4e2a CPU \u4e0a\u6267\u884c\uff0c\u51cf\u5c11\u5207\u6362 CPU \u7684 ",a.a.createElement("code",null,"cache miss"),"\uff0c\u83b7\u5f97\u66f4\u597d\u7684\u6027\u80fd\u3002"),a.a.createElement("p",null,"\u8bf4\u767d\u4e86\u5c31\u662f\u51cf\u5c11 CPU \u5207\u6362\u6240\u635f\u8017\u7684\u6027\u80fd\u3002"),a.a.createElement("h2",{id:"\u5b89\u88c5\u76ee\u5f55"},a.a.createElement(r["AnchorLink"],{to:"#\u5b89\u88c5\u76ee\u5f55","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u5b89\u88c5\u76ee\u5f55"),a.a.createElement("p",null,"\u5217\u51fa Nginx \u670d\u52a1\u7684\u5b89\u88c5\u76ee\u5f55\uff1a"),a.a.createElement(c["a"],{code:"rpm -ql nginx",lang:"bash"}),a.a.createElement(o["a"],null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{align:"left"},"\u8def\u5f84"),a.a.createElement("th",{align:"left"},"\u7c7b\u578b"),a.a.createElement("th",{align:"left"},"\u4f5c\u7528"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/etc/logrotate.d/nginx")),a.a.createElement("td",{align:"left"},"\u914d\u7f6e\u6587\u4ef6"),a.a.createElement("td",{align:"left"},"nginx \u65e5\u5fd7\u8f6e\u8f6c\uff0c\u7528\u4e8e logrotate \u670d\u52a1\u7684\u65e5\u5fd7\u5207\u5272")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/etc/nginx/"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/nginx/conf.d"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/nginx/conf.d/default.conf"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/nginx/nginx.conf")),a.a.createElement("td",{align:"left"},"\u76ee\u5f55\u3001\u914d\u7f6e\u6587\u4ef6"),a.a.createElement("td",{align:"left"},"nginx \u4e3b\u914d\u7f6e\u6587\u4ef6")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/etc/nginx/fastcgi_params"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/nginx/scgi_params"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/nginx/uwsgi_params")),a.a.createElement("td",{align:"left"},"\u914d\u7f6e\u6587\u4ef6"),a.a.createElement("td",{align:"left"},"cgi \u914d\u7f6e\u76f8\u5173\uff0cfastcgi \u914d\u7f6e")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/etc/nginx/koi-utf"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/nginx/koi-win"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/nginx/win-utf")),a.a.createElement("td",{align:"left"},"\u914d\u7f6e\u6587\u4ef6"),a.a.createElement("td",{align:"left"},"\u7f16\u7801\u6620\u5c04\u8f6c\u5316\u6587\u4ef6")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/etc/nginx/mime.types")),a.a.createElement("td",{align:"left"},"\u914d\u7f6e\u6587\u4ef6"),a.a.createElement("td",{align:"left"},"\u8bbe\u7f6e HTTP \u534f\u8bae\u7684 Content-Type \u4e0e\u6269\u5c55\u540d\u5bf9\u5e94\u5173\u7cfb")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/etc/sysconfig/nginx"),a.a.createElement("br",null),a.a.createElement("code",null,"/etc/sysconfig/nginx-debug"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/lib/systemd/system/nginx-debug.service"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/lib/systemd/system/nginx.service")),a.a.createElement("td",{align:"left"},"\u914d\u7f6e\u6587\u4ef6"),a.a.createElement("td",{align:"left"},"\u7528\u4e8e\u914d\u7f6e\u51fa\u7cfb\u7edf\u5b88\u62a4\u8fdb\u7a0b\u7ba1\u7406\u5668\u7ba1\u7406\u65b9\u5f0f")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/etc/nginx/modules"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/lib64/nginx/modules")),a.a.createElement("td",{align:"left"},"\u76ee\u5f55"),a.a.createElement("td",{align:"left"},"nginx \u6a21\u5757\u76ee\u5f55")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/usr/sbin/nginx"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/sbin/nginx-debug")),a.a.createElement("td",{align:"left"},"\u547d\u4ee4"),a.a.createElement("td",{align:"left"},"nginx \u670d\u52a1\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u6587\u4ef6\uff08\u7ec8\u7aef\u547d\u4ee4\uff09")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/usr/share/doc/nginx-1.12.2"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/share/doc/nginx-1.12.2/COPYRIGHT"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/share/man/man8/nginx.8.gz")),a.a.createElement("td",{align:"left"},"\u6587\u4ef6\u76ee\u5f55"),a.a.createElement("td",{align:"left"},"nginx \u7684\u624b\u518c\u548c\u5e2e\u52a9\u6587\u4ef6")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/var/cache/nginx")),a.a.createElement("td",{align:"left"},"\u76ee\u5f55"),a.a.createElement("td",{align:"left"},"nginx \u7684\u7f13\u5b58\u76ee\u5f55")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/var/log/nginx")),a.a.createElement("td",{align:"left"},"\u76ee\u5f55"),a.a.createElement("td",{align:"left"},"nginx \u7684\u65e5\u5fd7\u76ee\u5f55")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"/usr/share/nginx/html/404.html"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/share/nginx/html/50x.html"),a.a.createElement("br",null),a.a.createElement("code",null,"/usr/share/nginx/html/index.html")),a.a.createElement("td",{align:"left"},"\u6587\u4ef6"),a.a.createElement("td",{align:"left"},"nginx \u9ed8\u8ba4\u7684\u9759\u6001\u8d44\u6e90\u76ee\u5f55")))),a.a.createElement("p",null,"Nginx \u53ca\u5176\u6a21\u5757\u7684\u5de5\u4f5c\u65b9\u5f0f\u7531\u914d\u7f6e\u6587\u4ef6\u786e\u5b9a\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u914d\u7f6e\u6587\u4ef6\u540d\u4e3a ",a.a.createElement("code",null,"nginx.conf"),"\uff0c\u653e\u5728 ",a.a.createElement("code",null,"/etc/nginx/conf.d"),"\u3001",a.a.createElement("code",null,"/usr/local/nginx/conf")," \u6216\u8005 ",a.a.createElement("code",null,"/usr/local/etc/nginx")," \u6587\u4ef6\u5939\u4e2d\u3002"),a.a.createElement("h2",{id:"\u7f16\u8bd1\u53c2\u6570"},a.a.createElement(r["AnchorLink"],{to:"#\u7f16\u8bd1\u53c2\u6570","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u7f16\u8bd1\u53c2\u6570"),a.a.createElement("p",null,"\u5217\u51fa\u7f16\u8bd1\u53c2\u6570\u7684\u547d\u4ee4\uff1a"),a.a.createElement(c["a"],{code:"nginx -V",lang:"bash"}),a.a.createElement(o["a"],null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{align:"left"},"\u8def\u5f84"),a.a.createElement("th",{align:"left"},"\u7c7b\u578b"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"--prefix=/etc/nginx"),a.a.createElement("br",null),a.a.createElement("code",null,"--sbin-path=/usr/sbin/nginx"),a.a.createElement("br",null),a.a.createElement("code",null,"--modules-path=/usr/lib64/nginx/modules"),a.a.createElement("br",null),a.a.createElement("code",null,"--conf-path=/etc/nginx/nginx.conf"),a.a.createElement("br",null),a.a.createElement("code",null,"--error-log-path=/var/log/nginx/error.log"),a.a.createElement("br",null),a.a.createElement("code",null,"--http-log-path=/var/log/nginx/access.log"),a.a.createElement("br",null),a.a.createElement("code",null,"--pid-path=/var/run/nginx.pid"),a.a.createElement("br",null),a.a.createElement("code",null,"--lock-path=/var/run/nginx.lock"),a.a.createElement("br",null)),a.a.createElement("td",{align:"left"},"\u5b89\u88c5\u76ee\u5f55")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"--http-client-body-temp-path=/var/cache/nginx/client_temp"),a.a.createElement("br",null),a.a.createElement("code",null,"--http-proxy-temp-path=/var/cache/nginx/proxy_temp"),a.a.createElement("br",null),a.a.createElement("code",null,"--http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp"),a.a.createElement("br",null),a.a.createElement("code",null,"--http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp"),a.a.createElement("br",null),a.a.createElement("code",null,"--http-scgi-temp-path=/var/cache/nginx/scgi_temp")),a.a.createElement("td",{align:"left"},"\u6267\u884c\u5bf9\u5e94\u6a21\u5757\u65f6\uff0cNginx \u6240\u4fdd\u7559\u7684\u4e34\u65f6\u6027\u6587\u4ef6")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"--user=nginx --group=nginx")),a.a.createElement("td",{align:"left"},"\u8bbe\u5b9a Nginx \u8fdb\u7a0b\u542f\u52a8\u7684\u7528\u6237\u548c\u7ec4\u7528\u6237")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"--with-cc-opt=parameters")),a.a.createElement("td",{align:"left"},"\u8bbe\u7f6e\u989d\u5916\u7684\u53c2\u6570\u5c06\u6dfb\u52a0\u5230 CFLAGS \u53d8\u91cf")),a.a.createElement("tr",null,a.a.createElement("td",{align:"left"},a.a.createElement("code",null,"--with-ld-opt=parameters")),a.a.createElement("td",{align:"left"},"\u8bbe\u7f6e\u9644\u52a0\u7684\u53c2\u6570\uff0c\u8fde\u63a5\u7cfb\u7edf\u5e93")))),a.a.createElement("hr",null),a.a.createElement("p",null,a.a.createElement("strong",null,"\u53c2\u8003\u8d44\u6599\uff1a")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(r["Link"],{to:"https://www.cnblogs.com/yblackd/p/12194143.html"},"\ud83d\udcdd Nginx \u5de5\u4f5c\u539f\u7406\uff08Master+Worker\uff09")),a.a.createElement("li",null,a.a.createElement(r["Link"],{to:"https://mp.weixin.qq.com/s/ZaKUtj7NgRSI72m5S4quDg"},"\ud83d\udcdd Nginx \u6700\u5168\u64cd\u4f5c\u603b\u7ed3")))))}));t["default"]=e=>{var t=a.a.useContext(r["context"]),n=t.demos;return a.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(i,{demos:n})}},qHiR:function(e,t,n){},rVZW:function(e,t,n){}}]);